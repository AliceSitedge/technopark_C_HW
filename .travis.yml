Idist: trusty

language: cpp

os:
  - linux

compiler:
  - gcc

install:
  - sudo apt update
  - sudo apt install cmake
  - sudo apt install libgtest-dev
  - cd /usr/src/gtest
  - sudo cmake CMakeLists.txt
  - sudo make
  - sudo cp *.a /usr/lib
  - cd -
  - sudo apt install cppcheck
  - sudo apt install valgrind

script:
  - sudo cmake CMakeLists.txt
  - sudo make
  - cppcheck -icmake-build-debug -iCMakeFiles --inconclusive --enable=all .
  - valgrind --tool=memcheck --leak-check=full --leak-resolution=med  --track-origins=yes --vgdb=no cmake-build-debug/main
  - 2 2
  - 1 1
  - 1 1

notifications:
  email: false
